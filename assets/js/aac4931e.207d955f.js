"use strict";(self.webpackChunkselflow=self.webpackChunkselflow||[]).push([[750],{4431:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>T,contentTitle:()=>y,default:()=>N,frontMatter:()=>k,metadata:()=>g,toc:()=>x});var a=n(3117),r=n(102),o=n(7294),l=n(3905),i=n(6010),s=n(5730),u=n(636),c=n(6602),p=n(3735);const m="tabList__CuJ",d="tabItem_LNqP";function f(e){var t,n,r=e.lazy,l=e.block,s=e.defaultValue,f=e.values,h=e.groupId,w=e.className,b=o.Children.map(e.children,(function(e){if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=f?f:b.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),k=(0,u.l)(v,(function(e,t){return e.value===t.value}));if(k.length>0)throw new Error('Docusaurus error: Duplicate values "'+k.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var y=null===s?s:null!=(t=null!=s?s:null==(n=b.find((function(e){return e.props.default})))?void 0:n.props.value)?t:b[0].props.value;if(null!==y&&!v.some((function(e){return e.value===y})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+y+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var g=(0,c.U)(),T=g.tabGroupChoices,x=g.setTabGroupChoices,O=(0,o.useState)(y),N=O[0],E=O[1],S=[],j=(0,p.o5)().blockElementScrollPositionUntilNextRender;if(null!=h){var C=T[h];null!=C&&C!==N&&v.some((function(e){return e.value===C}))&&E(C)}var P=function(e){var t=e.currentTarget,n=S.indexOf(t),a=v[n].value;a!==N&&(j(t),E(a),null!=h&&x(h,String(a)))},D=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a,r=S.indexOf(e.currentTarget)+1;n=null!=(a=S[r])?a:S[0];break;case"ArrowLeft":var o,l=S.indexOf(e.currentTarget)-1;n=null!=(o=S[l])?o:S[S.length-1]}null==(t=n)||t.focus()};return o.createElement("div",{className:(0,i.Z)("tabs-container",m)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":l},w)},v.map((function(e){var t=e.value,n=e.label,r=e.attributes;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:function(e){return S.push(e)},onKeyDown:D,onFocus:P,onClick:P},r,{className:(0,i.Z)("tabs__item",d,null==r?void 0:r.className,{"tabs__item--active":N===t})}),null!=n?n:t)}))),r?(0,o.cloneElement)(b.filter((function(e){return e.props.value===N}))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},b.map((function(e,t){return(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==N})}))))}function h(e){var t=(0,s.Z)();return o.createElement(f,(0,a.Z)({key:String(t)},e))}const w="tabItem_Ymn6";function b(e){var t=e.children,n=e.hidden,a=e.className;return o.createElement("div",{role:"tabpanel",className:(0,i.Z)(w,a),hidden:n},t)}var v=["components"],k={title:"\u270f\ufe0f Workflow Syntax"},y=void 0,g={unversionedId:"workflow-syntax",id:"workflow-syntax",title:"\u270f\ufe0f Workflow Syntax",description:"The workflow syntax is very simple :",source:"@site/../../docs/workflow-syntax.mdx",sourceDirName:".",slug:"/workflow-syntax",permalink:"/selflow/docs/workflow-syntax",draft:!1,editUrl:"https://github.com/selflow/selflow/edit/main/apps/selflow-documentation/../../docs/workflow-syntax.mdx",tags:[],version:"current",frontMatter:{title:"\u270f\ufe0f Workflow Syntax"},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udc0b Docker Steps",permalink:"/selflow/docs/steps/docker"}},T={},x=[{value:"Metadata",id:"metadata",level:3},{value:"The workflow definition",id:"the-workflow-definition",level:3}],O={toc:x};function N(e){var t=e.components,n=(0,r.Z)(e,v);return(0,l.kt)("wrapper",(0,a.Z)({},O,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"The workflow syntax is very simple :"),(0,l.kt)(h,{mdxType:"Tabs"},(0,l.kt)(b,{value:"yaml",label:"Yaml",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"name: 'Simple case'\ndescription: 'Steps a and b should log their names'\nauthor: 'Selflow Community'\n\nworkflow:\n  timeout: '5m'\n  steps:\n    step-a:\n      kind: 'docker'\n      with:\n        image: 'node:lts'\n        commands: |\n          echo \"##step-a##\"\n\n    step-b:\n      kind: 'docker'\n      with:\n        image: 'node:lts'\n        commands: |\n          echo \"##step-b##\"\n"))),(0,l.kt)(b,{value:"json",label:"Json",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "Simple case",\n  "description": "Steps a and b should log their names",\n  "author": "Selflow Community",\n  "workflow": {\n    "timeout": "5m",\n    "steps": {\n      "step-a": {\n        "kind": "docker",\n        "with": {\n          "image": "node:lts",\n          "commands": "echo \\"##step-a##\\"\\n"\n        }\n      },\n      "step-b": {\n        "kind": "docker",\n        "with": {\n          "image": "node:lts",\n          "commands": "echo \\"##step-b##\\"\\n"\n        }\n      }\n    }\n  }\n}\n')))),(0,l.kt)("h3",{id:"metadata"},"Metadata"),(0,l.kt)("p",null,"First, the workflow starts with the metadata attributes :"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"name: 'Simple case'\ndescription: 'Steps a and b should log their names'\nauthor: 'Selflow Community'\n")),(0,l.kt)("p",null,"These fields are ignore by Selflow, you can use them if you want to specify things about your workflow like why you are using them."),(0,l.kt)("p",null,"In the future, the idea is to be able to access these fields in the steps definitions and to be able to put names on workflow executions."),(0,l.kt)("h3",{id:"the-workflow-definition"},"The workflow definition"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"workflow:\n  timeout: '5m'\n  steps:\n    step-a:\n      kind: 'docker'\n      with:\n        image: 'node:lts'\n        commands: |\n          echo \"##step-a##\"\n\n    step-b:\n      kind: 'docker'\n      with:\n        image: 'node:lts'\n        commands: |\n          echo \"##step-b##\"\n")),(0,l.kt)("p",null,"This part contains all the workflow definition.\nFirst, the ",(0,l.kt)("inlineCode",{parentName:"p"},"timeout")," attribute specifies the maximum duration of the workflow, ",(0,l.kt)("strong",{parentName:"p"},"it is required"),"."),(0,l.kt)("p",null,"Then, the ",(0,l.kt)("inlineCode",{parentName:"p"},"steps")," attributes contains a map of all steps.\nYou can have more details about this part in the ",(0,l.kt)("a",{parentName:"p",href:"./steps"},"step documentation")))}N.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=u(n),d=r,f=p["".concat(s,".").concat(d)]||p[d]||m[d]||o;return n?a.createElement(f,l(l({ref:t},c),{},{components:n})):a.createElement(f,l({ref:t},c))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[p]="string"==typeof e?e:r,l[1]=i;for(var u=2;u<o;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);